function Flake(t,e){this.x=t,this.y=e,this.r=randomBetween(0,1),this.a=randomBetween(0,Math.PI),this.aStep=.01,this.weight=randomBetween(2,5),this.alpha=this.weight/5,this.speed=this.weight/5*3,this.update=function(){this.x+=Math.cos(this.a)*this.r,this.a+=this.aStep,this.y+=this.speed}}function init(){for(var t,e,n,a=numFlakes;a--;)e=randomBetween(0,windowW,!0),n=randomBetween(0,windowH,!0),t=new Flake(e,n),flakes.push(t);scaleCanvas(),loop()}function scaleCanvas(){canvas.width=windowW,canvas.height=windowH}function loop(){var t,e=flakes.length;for(ctx.save(),ctx.setTransform(1,0,0,1,0,0),ctx.clearRect(0,0,windowW,windowH),ctx.restore();e--;)t=flakes[e],t.update(),ctx.beginPath(),ctx.arc(t.x,t.y,t.weight,0,2*Math.PI,!1),ctx.fillStyle="rgba(255, 255, 255, "+t.alpha+")",ctx.fill(),t.y>=windowH&&(t.y=-t.weight);requestAnimationFrame(loop)}function randomBetween(t,e,n){var a=Math.random()*(e-t+1)+t;return n?Math.floor(a):a}function distanceBetween(t,e){var n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)}var canvas=document.querySelector(".snow"),ctx=canvas.getContext("2d"),windowW=window.innerWidth,windowH=window.innerHeight,numFlakes=200,flakes=[];init();